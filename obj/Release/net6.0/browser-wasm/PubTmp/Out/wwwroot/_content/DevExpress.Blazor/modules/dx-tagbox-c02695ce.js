import{a as t}from"./_tslib-bfc426b4.js";import{DxComboBox as e}from"./dx-combobox-2b888009.js";import{e as o,n}from"./property-0899c55e.js";import"./dom-f057d094.js";import"./adaptivedropdowncomponents-b9273096.js";import"./dropdowncomponents-586715ff.js";import"./popup-a7619af7.js";import"./rect-2684652a.js";import"./point-9c6ab88a.js";import"./rafaction-bba7928b.js";import"./transformhelper-3935ca6a.js";import"./layouthelper-c2462bd3.js";import"./positiontracker-9570b24e.js";import"./positiontrackerobserver-5fd93b2c.js";import"./elementobserver-5f004683.js";import"./supportcaptureelement-e000b699.js";import"./popuproot-e4bfd720.js";import"./branch-bb1eefec.js";import"./lit-element-42a89b46.js";import"./data-qa-utils-8be7c726.js";import"./capturemanager-470a5b3f.js";import"./eventhelper-450cce9f.js";import"./dx-ui-element-fa46d41b.js";import"./lit-element-base-cc37ea0b.js";import"./thumb-05a14c1b.js";import"./query-8cb4c1ca.js";import"./popupbasedialog-4a39b856.js";import"./events-interseptor-a82da75c.js";import"./modalcomponents-c2890212.js";import"./dx-dropdown-editor-base-e7446c6d.js";import"./dx-ui-handlers-bridge-4076ae57.js";import"./dx-dropdown-owner-d9db7d72.js";import"./dx-listbox-cede39ec.js";var s;const i="dxbl-tagbox";let r=s=class extends e{constructor(){super(),this.boundOnInputFocusHandler=this.onInputFocus.bind(this),this.customTagsEnable=!1,this.inputValue=""}connectedCallback(){super.connectedCallback()}disconnectedCallback(){this.inputElement&&this.inputElement.removeEventListener("focus",this.boundOnInputFocusHandler),super.disconnectedCallback()}getFormControlElement(){return this.inputElement?this.inputElement.closest(".input-group.form-control"):null}onInputTextChanged(t){this.inputValue=t.target.value,this.fitInputWidth(),super.onInputTextChanged(t)}onInputFocus(t){var e;null===(e=this.getFormControlElement())||void 0===e||e.classList.add(s.FocusedFormControlCssClass)}processLostFocus(){var t,e;if(!this.inputElement)return;const o=null===(t=this.inputElement)||void 0===t?void 0:t.value,n=o&&""!==o;this.customTagsEnable&&n&&super.processLostFocus(),document.activeElement!==this.inputElement&&n&&this.setInputValue(""),null===(e=this.getFormControlElement())||void 0===e||e.classList.remove(s.FocusedFormControlCssClass)}fitInputWidth(){if(!this.inputElement)return;const t=this.inputValue.length;this.inputElement.setAttribute("size",0===t?"1":t.toString())}forceInputValue(t,e){this.setInputValue(t),e&&this.highlightInputText()}highlightInputText(){this.inputElement&&this.inputElement.select()}onSlotChanged(t){super.onSlotChanged(t),this.inputElement&&this.inputElement.addEventListener("focus",this.boundOnInputFocusHandler)}getDropDownWidthSourceElement(){return this}requireSendKeyCommandToServer(t){if(super.requireSendKeyCommandToServer(t))return!0;switch(t.key){case"Escape":return!0;case"Backspace":return!this.inputElement||0===this.inputElement.value.length}return!1}setInputValue(t){this.inputElement&&(this.inputElement.value=t,this.inputValue=t&&""!==t?t:this.inputElement.placeholder),this.fitInputWidth()}};function p(t,e,o){t.forceInputValue(e,o)}r.FocusedFormControlCssClass="border-primary",t([o({type:Boolean,attribute:"custom-tags-enable"})],r.prototype,"customTagsEnable",void 0),r=s=t([n("dxbl-tagbox")],r);const u={loadModule:function(){},forceInputValue:p};export{u as default,i as dxTagBoxTagName,p as forceInputValue};
